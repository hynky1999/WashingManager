@using PrackyASusarny.Features.BEManagment
@inject ILocalizationService Loc

@if (_listType != null && ChildContent != null) {
    @ChildContent(_listType)
} else {
    <Title Level="2">@($"{Loc[BEntity!]} {Loc["is not supported"]}")</Title>
}

@code{

    [Parameter]
    public string? BEntity { get; set; }

    [Parameter]
    public RenderFragment<Type>? ChildContent { get; set; }

    private Type? _listType;

    protected override void OnParametersSet() {
        if (ModelUtils.ModelNameToType.TryGetValue(BEntity ?? "", out var tmplistType) && ManagementConfig.AllowedEntities.Contains(tmplistType)) {
            _listType = tmplistType;
        }
    }

}
